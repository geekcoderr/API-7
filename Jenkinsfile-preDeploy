pipeline {
    agent any
    parameters{
        string(name:'STATEMENT',defaultvalue:'hello ; ls /',description: 'WHat should I Say?')
    }
    stages{
    stage('SCM UPDATE') {
        if (!fileExists('.git')) {
            echo 'GIT REPO DOESN\'T EXIST'
            sh 'git clone -b main https://github.com/geekcoderr/API-7 .'
        } else {
            echo 'GIT REPO ALREADY EXISTS'
            checkout scm
        }
    }

    stage('preDeploy') {
        sh "echo ${STATEMENT}"
    }    
    }
}
