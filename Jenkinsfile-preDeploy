node {
    stage('SCM UPDATE') {
        if (!fileExists('.git')) {
            echo 'GIT REPO DOSENT EXIST'
            sh 'git clone -b main https://github.com/geekcoderr/API-7 .'
        }
    else {
            echo 'GIT REPO ALREADY EXIST'
            checkout scm
    }
    }
    stage('Print Environment Variables') {
       whithCredentials([usernamePassword(credentialsId: 'example-credentials-id'),usernamevariable: 'uname',passwordVariable: 'pass']){
            sh 'curl -u $uname:$pass https://hub.docker.com/'
       }
    }
}
